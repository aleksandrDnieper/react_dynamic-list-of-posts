(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),s=n.n(c),o=n(1),u=n.n(o),l=n(2),i=n(3),m=(n(13),n(14),n(6)),p=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/users");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/comments");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/posts");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([f(),d(),b()]);case 2:return t=e.sent,n=Object(i.a)(t,3),a=n[0],r=n[1],c=n[2],s=c.map((function(e){var t=a.find((function(t){return t.id===e.userId})),n=r.filter((function(t){return t.postId===e.id}));return Object(m.a)({},e,{user:t,comments:n})})),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var E=function(e){var t=e.user;return r.a.createElement("div",{className:"user"},r.a.createElement("p",null,"Contact info:"),r.a.createElement("p",null,"name: ".concat(t.name,", email: ").concat(t.email)),r.a.createElement("p",null,"address: ".concat(t.address.zipcode,", ").concat(t.address.street,", ").concat(t.address.city)))},h=function(e){var t=e.comment;return r.a.createElement("div",{className:"card text-white bg-info mb-3"},r.a.createElement("h3",{className:"card-header"},t.name),r.a.createElement("div",{className:"card-body"},r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,t.body),r.a.createElement("footer",{className:"blockquote-footer"},t.email))))},y=function(e){var t=e.comments;return r.a.createElement("div",{className:"commentList"},r.a.createElement("div",{className:"comments"},t.map((function(e){return r.a.createElement(h,{key:e.id,comment:e})}))))},k=function(e){var t=e.post;return r.a.createElement("div",{className:"list__item"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header"},t.title),r.a.createElement("div",{className:"card-body"},r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,t.body),r.a.createElement("footer",{className:"blockquote-footer"},r.a.createElement(E,{user:t.user}))),r.a.createElement(y,{comments:t.comments}))))},N=function(e){var t=e.posts;return r.a.createElement("div",{className:"list"},t.map((function(e){return r.a.createElement(k,{key:e.id,post:e})})))};s.a.render(r.a.createElement((function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),m=o[0],p=o[1],f=Object(a.useState)(""),d=Object(i.a)(f,2),b=d[0],E=d[1],h=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,v();case 4:t=e.sent,c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),y=Object(a.useMemo)((function(){return n.filter(function(e){return function(t){return t.title.includes(e)||t.body.includes(e)}}(b))}),[n,b]);return r.a.createElement("div",{className:"app"},n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",id:"input",className:"form-control",placeholder:"type search",onChange:function(e){var t=e.target;E(t.value.toLowerCase())}}),r.a.createElement(N,{posts:b?y:n})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Dynamic list of posts"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:h},m?"Loading.......":"Start load")))}),null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.82f1cadb.chunk.js.map